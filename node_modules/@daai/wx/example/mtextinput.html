<!doctype html>
<html lang="en" data-framework="es6">
  <head>
    <meta charset="utf-8">
    <title>Wx â€¢ TextInput</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css">
    <link href="./css/wx.css" rel="stylesheet">
  </head>
  <style>
    *, *::before, *::after { box-sizing: border-box; }

    .button-group { margin-bottom: 20px; }

    .mtextinput-container {
      padding: 2px 4px;
      margin: 0;
      width: 268px;
      border: 1px solid #a9a9a9;
    }

    .w-25 {
      width: 25%;
    }
  </style>
  <body>
    <div style="width: 100%;">

      <div id="example1" style="width: 50%; float: left;">
        <div class="button-group">
          <button id="clear-textinput1">Clear</button>
          <button id="update-textinput1">Update</button>
          <button id="get-textinput1">Get Item</button>
          <button id="reset-textinput1">Reset</button>
        </div>
        <div class="mtextinput-container" id="textinput1"></div>
      </div>
      <br>
      <div id="example2" style="width: 100%; float: right;">
        <div class="button-group">
          <button id="clear-textinput2">Clear</button>
          <button id="update-textinput2">Update</button>
          <button id="get-textinput2">Get Item</button>
          <button id="reset-textinput2">Reset</button>
        </div>
        <div class="mtextinput-container" id="textinput2" style="width: 100%;"></div>
      </div>

    </div>

    <script
      src="https://code.jquery.com/jquery-3.5.1.js"
      integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
      crossorigin="anonymous"></script>
    <script src="./js/umd/wx.js"></script>
  </body>
  <script>
  $(document).ready(function () {
    let options = {
      item: [{ left_value: '', right_value: '' }],
      item_min: 1, item_max: 10,
      title: { left: 'Key', right: 'Value' },
      columnClass: { left: 'w-25', right: 'custom-class', btn: 'custom-class' },
      expand: { active: true, icon: 'fa-expand-arrows-alt' },
      onAction: function (uiid, btn, i, item, items) {
        let its = textinput1.getAllItems();
        let it = textinput1.getItem(i);
        console.log(uiid, btn, i, item, items);
      }
    };
    let textinput1 = new wx.mTextInput('#textinput1', options);
    let textinput2 = new wx.mTextInput('#textinput2', options);

    // textinput1
    $('#clear-textinput1').on('click', function (e) {
      textinput1.clear();
    });

    $('#update-textinput1').on('click', function (e) {
      textinput1.clear();
      let options = {
        item: [
          { left_value: 'key1', right_value: 'value1' },
          { left_value: 'key2', right_value: '' },
        ],
        item_min: 1, item_max: 10,
        title: { left: 'Key', right: 'Value' },
        expand: { active: true, icon: 'fa-expand-arrows-alt' },
        onAction: function (uiid, btn, i, item, items) {
          console.log(uiid, btn, i, item, items);
        }
      };
      textinput1.update(options);
    });

    $('#reset-textinput1').on('click', function (e) {
      textinput1.reset();
    });

    $('#get-textinput1').on('click', function (e) {
      console.log(textinput1.getItems());
    });

    // textinput2
    $('#clear-textinput2').on('click', function (e) {
      textinput2.clear();
    });
    $('#update-textinput2').on('click', function (e) {
      let options = {
        item: [
          { left_value: 'key_a', right_value: 'value123' },
          { left_value: 'key_b', right_value: 'value123' },
        ],
        item_min: 1, item_max: 10,
        title: { left: 'Key', right: 'Value' },
      };
      textinput2.update(options);
    });

    $('#reset-textinput2').on('click', function (e) {
      textinput2.reset();
    });

    $('#get-textinput2').on('click', function (e) {
      console.log(textinput2.getItems());
    });
  });

  </script>
</html>
