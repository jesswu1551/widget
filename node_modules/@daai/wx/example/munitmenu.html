<!doctype html>
<html lang="en" data-framework="es6">
  <head>
    <meta charset="utf-8">
    <title>Wx â€¢ UnitMenu</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css">
    <link href="./css/wx.css" rel="stylesheet">
    <style>
      *, *::before, *::after {
        box-sizing: border-box;
      }

      ::-webkit-scrollbar {
        width: 7px;
        margin-right: 2px;
      }

      ::-webkit-scrollbar-thumb,
      ::-webkit-scrollbar-thumb:horizontal {
        background-color: #dee2e6;
        outline: 0 solid #687685;
        border-radius: 4px;
      }

      ::-webkit-scrollbar-track,
      ::-webkit-scrollbar-track:horizontal {
        box-shadow: none;
      }
    </style>
  </head>
  <body style="line-height: 1.5; font-family: 'Microsoft JhengHei', 'SimHei', 'STHeiti'; font-size: .8rem; cursor: default;">
    <div>
      <div style="margin-bottom: 20px;">
        <button id="clear-menu1">Clear 1</button>
        <button id="update-menu1">Update 1</button>
        <button id="clear-menu2">Clear 2</button>
        <button id="update-menu2">Update 2</button>
      </div>
    </div>
    <div style="width: 200px; height: 100%; float: left; position: relative;">
      <div class="munitmenu-container" id="example1" style="height: 150px;">
      </div>
      <div class="munitmenu-container" id="example2" style="height: 300px;">
      </div>
    </div>
    <script
      src="https://code.jquery.com/jquery-3.5.1.js"
      integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
      crossorigin="anonymous"></script>
    <script src="./js/umd/wx.js"></script>
  </body>
<script>
  $(document).ready(function () {
    let option1 = {
      label: 'Example1', select: true, draggable: true, dragstart: 'dragStart',
      tool: {
        insert: true, config: false, reload: true,
      },
      item: [{
        id: 'ex1-item0001', label: 'Boston', type: 'item', selected: false,
        menu: [{
          mid: 'insert', label: 'Add', type: 'insert'
        }, {
          mid: 'delete', label: 'Delete', type: 'delete'
        }, {
          mid: 'copy', label: 'Copy', type: 'copy'
        }, {
          mid: 'rename', label: 'Rename', type: 'rename'
        }, {
          mid: 'convert', label: 'Convert', type: 'convert'
        }, {
          mid: 'setting', label: 'Setting', type: 'setting'
        }, {
          mid: 'export', label: 'Export', type: 'export'
        }, {
          mid: 'info', label: 'Information', type: 'info'
        }]
      }, {
        id: 'ex1-item0002', label: 'Chicago', type: 'item', selected: true,
        menu: [{
          mid: 'insert', label: 'Add', type: 'insert'
        }, {
          mid: 'delete', label: 'Delete', type: 'delete'
        }, {
          mid: 'copy', label: 'Copy', type: 'copy'
        }]
      }, {
        id: 'ex1-item0003', label: 'Philadelphia', type: 'item', selected: false,
        menu: [{
          mid: 'insert', label: 'Add', type: 'insert'
        }, {
          mid: 'delete', label: 'Delete', type: 'delete'
        }, {
          mid: 'copy', label: 'Copy', type: 'copy'
        }]
      }, {
        id: 'ex1-item0004', label: 'Gettysburg', type: 'item', selected: false,
        menu: [{
          mid: 'insert', label: 'Add', type: 'insert'
        }, {
          mid: 'delete', label: 'Delete', type: 'delete'
        }, {
          mid: 'copy', label: 'Copy', type: 'copy'
        }]
      }, {
        id: 'ex1-item0005', label: 'Pittsburgh', type: 'item', selected: false,
        menu: [{
          mid: 'insert', label: 'Add', type: 'insert'
        }, {
          mid: 'delete', label: 'Delete', type: 'delete'
        }, {
          mid: 'copy', label: 'Copy', type: 'copy'
        }]
      }, {
        id: 'ex1-item0006', label: 'New York', type: 'item', selected: false,
        menu: [{
          mid: 'insert', label: 'Add', type: 'insert'
        }, {
          mid: 'delete', label: 'Delete', type: 'delete'
        }, {
          mid: 'copy', label: 'Copy', type: 'copy'
        }]
      }, {
        id: 'ex1-item0007', label: 'San Francisco', type: 'item', selected: false,
        menu: [{
          mid: 'insert', label: 'Add', type: 'insert'
        }, {
          mid: 'delete', label: 'Delete', type: 'delete'
        }, {
          mid: 'copy', label: 'Copy', type: 'copy'
        }]
      }, {
          id: 'ex1-item0008', label: 'Austin', type: 'item', selected: false,
          menu: [{
            mid: 'insert', label: 'Add', type: 'insert'
          }, {
            mid: 'delete', label: 'Delete', type: 'delete'
          }, {
            mid: 'copy', label: 'Copy', type: 'copy'
          }]
        }, {
          id: 'ex1-item0009', label: 'Houston', type: 'item', selected: false,
          menu: [{
            mid: 'insert', label: 'Add', type: 'insert'
          }, {
            mid: 'delete', label: 'Delete', type: 'delete'
          }, {
            mid: 'copy', label: 'Copy', type: 'copy'
          }]
        }, {
          id: 'ex1-item0010', label: 'Phoenix', type: 'item', selected: false,
          menu: [{
            mid: 'insert', label: 'Add', type: 'insert'
          }, {
            mid: 'delete', label: 'Delete', type: 'delete'
          }, {
            mid: 'copy', label: 'Copy', type: 'copy'
          }]
        }, {
          id: 'ex1-item0011', label: 'Dallas', type: 'item', selected: false,
          menu: [{
            mid: 'insert', label: 'Add', type: 'insert'
          }, {
            mid: 'delete', label: 'Delete', type: 'delete'
          }, {
            mid: 'copy', label: 'Copy', type: 'copy'
          }]
        }, {
          id: 'ex1-item0012', label: 'San Diego', type: 'item', selected: false,
          menu: [{
            mid: 'insert', label: 'Add', type: 'insert'
          }, {
            mid: 'delete', label: 'Delete', type: 'delete'
          }, {
            mid: 'copy', label: 'Copy', type: 'copy'
          }]
        }]
    };

    let option2 = {
      label: 'Example2', select: true, draggable: false, dragstart: 'dragStart',
      tool: {
        insert: true, config: false, reload: true,
      },
      item: [{
        id: 'group', label: 'Group', type: 'branch', menu: null, selected: false,
        subitems: [{
          id: 'ex2-item0001', label: 'Los Angeles', type: 'item', selected: false,
          menu: [{
            mid: 'insert', label: 'Add', type: 'insert'
          }, {
            mid: 'delete', label: 'Delete', type: 'delete'
          }, {
            mid: 'copy', label: 'Copy', type: 'copy'
          }, {
            mid: 'rename', label: 'Rename', type: 'rename'
          }, {
            mid: 'convert', label: 'Convert', type: 'convert'
          }, {
            mid: 'setting', label: 'Setting', type: 'setting'
          }, {
            mid: 'export', label: 'Export', type: 'export'
          }, {
            mid: 'info', label: 'Information', type: 'info'
          }]
        }, {
          id: 'ex2-item0002', label: 'San Diego', type: 'item', selected: false,
          menu: [{
            mid: 'insert', label: 'Add', type: 'insert'
          }, {
            mid: 'delete', label: 'Delete', type: 'delete'
          }, {
            mid: 'copy', label: 'Copy', type: 'copy'
          }]
        }, {
          id: 'ex2-item0003', label: 'San Francisco', type: 'item', selected: false,
          menu: [{
            mid: 'insert', label: 'Add', type: 'insert'
          }, {
            mid: 'delete', label: 'Delete', type: 'delete'
          }, {
            mid: 'copy', label: 'Copy', type: 'copy'
          }]
        }]
      }, {
        id: 'group', label: 'Group', type: 'branch', menu: null, selected: false,
        subitems: [{
          id: 'ex2-item0004', label: 'Austin', type: 'item', selected: false,
          menu: [{
            mid: 'insert', label: 'Add', type: 'insert'
          }, {
            mid: 'delete', label: 'Delete', type: 'delete'
          }, {
            mid: 'copy', label: 'Copy', type: 'copy'
          }]
        }, {
            id: 'ex2-item0005', label: 'Houston', type: 'item', selected: false,
            menu: [{
              mid: 'insert', label: 'Add', type: 'insert'
            }, {
              mid: 'delete', label: 'Delete', type: 'delete'
            }, {
              mid: 'copy', label: 'Copy', type: 'copy'
            }]
          }]
      }, {
          id: 'group', label: 'Group', type: 'branch', menu: null, selected: false,
          subitems: [{
            id: 'ex2-item0006', label: 'New York', type: 'item', selected: false,
            menu: [{
              mid: 'insert', label: 'Add', type: 'insert'
            }, {
              mid: 'delete', label: 'Delete', type: 'delete'
            }, {
              mid: 'copy', label: 'Copy', type: 'copy'
            }]
          }, {
            id: 'ex2-item0007', label: 'Philadelphia', type: 'item', selected: false,
            menu: [{
              mid: 'insert', label: 'Add', type: 'insert'
            }, {
              mid: 'delete', label: 'Delete', type: 'delete'
            }, {
              mid: 'copy', label: 'Copy', type: 'copy'
            }]
          }]
        }
      ],
      onAction: function (item, data) {
        console.log(item);
        console.log(data);
      }
    };

    let munitmenu1 = new wx.mUnitMenu('#example1', {});
    $('#example1').on('selectitem selectmenu selectcontext', function (e) {
      console.log(e.detail);
    });

    let munitmenu2 = new wx.mUnitMenu('#example2', {});

    $('#clear-menu1').on('click', function (e) {
      munitmenu1.clear();
    });
    $('#update-menu1').on('click', function (e) {
      munitmenu1.clear();
      munitmenu1.update(option1);
    });

    $('#clear-menu2').on('click', function (e) {
      munitmenu2.clear();
    });
    $('#update-menu2').on('click', function (e) {
      munitmenu2.clear();
      munitmenu2.update(option2);
    });
  })
</script>
</html>
