<!doctype html>
<html lang="en" data-framework="es6">
  <head>
    <meta charset="utf-8">
    <title>Wx â€¢ pairSelector</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css">
    <link href="./css/wx.css" rel="stylesheet">
  </head>
  <body>
    <div>
      <div style="margin-bottom: 20px;">
        <button id="clear-selector1">Clear 1</button>
        <button id="update-selector1">Update 1</button>
        <button id="get-selector1">Get Item 1</button>
        <button id="clear-selector2">Clear 2</button>
        <button id="update-selector2">Update 2</button>
      </div>
    </div>
    <div class="pairselector-container" id="pairselector1" style="min-height: 50px;" data-col=""></div>
    <br>
    <div class="pairselector-container" id="pairselector2" style="min-height: 50px;" data-col=""></div>
    <script
      src="https://code.jquery.com/jquery-3.5.1.js"
      integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
      crossorigin="anonymous"></script>
    <script src="./js/umd/wx.js"></script>
  </body>
  <script>
  $(document).ready(function () {

    let cols = [{ value: 'jid', label: 'jid'},
                { value: 'parameter', label: 'parameter'},
                { value: 'created_time', label: 'created_time'},
                { value: 'score1', label: 'score1'},
                { value: 'sign1', label: 'sign1'},
                { value: 'score2', label: 'score2'},
                { value: 'sign2', label: 'sign2'},
                { value: 'distinct_value', label: 'distinct_value'},
                { value: 'same_direction', label: 'same_direction'},
                { value: 'opp_direction', label: 'opp_direction'},
                { value: 'records', label: 'records'}];
    let match = {
      'jid': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
      'parameter': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
      'created_time': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
      'score1': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
      'sign1': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
      'score2': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
      'sign2': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
      'distinct_value': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
      'same_direction': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
      'opp_direction': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
      'records': [{ value: 'count', label: 'count'}],
      undefined: [{ value: '', label: '-'}, ]
    };
    let options = {
      item: [{ left_value: '', left_label: '-', right_value: '', right_label: '-' }],
      item_min: 1, item_max: 3, exclusive: false,
      columns: cols, match: match,
      onItems: function (id, action, items) {
        console.log(id);
        console.log(action);
        console.log(items);
      }
    };
    let selector1 = new wx.pairSelector('#pairselector1', options);
    let selector2 = new wx.pairSelector('#pairselector2', options);
    $('#clear-selector1').on('click', function (e) {
      selector1.clear();
    });
    $('#update-selector1').on('click', function (e) {
      let options = {
        item: [{
          left_value: 'jid', left_label: 'jid', right_value: 'Min', right_label: 'Min'
        }, {
          left_value: 'distinct_value', left_label: 'distinct_value', right_value: 'Sum', right_label: 'Sum'
        }],
        item_min: 1, item_max: 1, exclusive: false,
        columns: [{ value: 'jid', label: 'jid'},
                { value: 'parameter', label: 'parameter'},
                { value: 'created_time', label: 'created_time'},
                { value: 'score1', label: 'score1'},
                { value: 'sign1', label: 'sign1'},
                { value: 'score2', label: 'score2'},
                { value: 'sign2', label: 'sign2'},
                { value: 'distinct_value', label: 'distinct_value'},
                { value: 'same_direction', label: 'same_direction'},
                { value: 'opp_direction', label: 'opp_direction'},
                { value: 'records', label: 'records'}],
        match: {
          'jid': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
          'parameter': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
          'created_time': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
          'score1': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
          'sign1': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
          'score2': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
          'sign2': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
          'distinct_value': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
          'same_direction': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
          'opp_direction': [{ value: '', label: '-'}, { value: 'Max', label: 'Max'}, { value: 'Min', label: 'Min'}, { value: 'Sum', label: 'Sum'}, { value: 'Avg', label: 'Avg'}, ],
          'records': [{ value: 'count', label: 'count'}],
        },
        onItems: function (id, action, items) {
          console.log(id);
          console.log(action);
          console.log(items);
        }
      };
      selector1.update(options);
    });
    $('#get-selector1').on('click', function (e) {
      let setting = selector1.getItems();
      console.log(setting);
      alert(JSON.stringify(setting));

      selector2.update({ item: setting });
    });
    $('#clear-selector2').on('click', function (e) {
      selector2.clear();
    });
    $('#update-selector2').on('click', function (e) {
      let options = {
        item_min: 1, item_max: 5, exclusive: true,
        item: [{
          left_value: 'jid', left_label: 'jid', right_value: 'Min', right_label: 'Min'
        }, {
          left_value: 'distinct_value2', left_label: 'distinct_value2', right_value: 'Sum', right_label: 'Sum'
        }],
      };
      selector2.update(options);
    });
  })
  </script>
</html>
